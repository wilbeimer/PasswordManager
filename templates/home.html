<!DOCTYPE html>
<html>
   <head>
      <title>Password Vault</title>
      <link rel="stylesheet" href="../static/css/main.css"> 
   </head>

   <body>
      <div class="app-container">
         <div class="top-row">
            <h1>My Password Vault</h1>
            <a href="/logout">Logout</a>
         </div>

         <div class="password-generator">
            <form id='password-form' method="POST" action="/generate">
               <input name="length" type="text" id="length" value="20" min="8" max="50">
               <button name="new-password-btn" type="btn-primary glow">Generate New</button>
            </form>

            <div class="password-display">
               <span id="password-output">Your password will appear here.</span>
            </div>
         </div>

         <form method="POST" action="/add">
            <input name="site" placeholder="Site" required>
            <input name="username" placeholder="Username" required>
            <input name="password" placeholder="Password" required>
            <button class="btn-primary glow">Save Password</button> 
         </form>

         <hr>
         <table border="1">
            <thead>
               <tr>
                  <th>Site</th>
                  <th>Username</th>
                  <th>Password</th>
                  <th>Action</th>
               </tr>
            </thead>

            <tbody id="password-table-body">
               {% for p in passwords %}
               <tr>
                  <td>{{ p.site }}</td>
                  <td>{{ p.username }}</td>
                  <td>
                     <span class="hidden-password">••••••••</span>
                     <button class="show-password" data-password="{{ p.password }}">Show</button>
                  </td> 
                  <td> <a href="/delete/{{ p.id }}">Delete</a> </td>
               </tr>
               {% endfor %} 
            </tbody>
         </table>
      </div>
      <script src="../static/js/password.js"></script>
      <script src="../static/js/generate.js"></script>
   </body>
</html>
